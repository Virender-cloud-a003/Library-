<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Member Dashboard - Library Management</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;font-family:'Segoe UI',sans-serif;}
  body{min-height:100vh;display:flex;flex-direction:column;background:url("image/62a25d95-ed51-49ad-bf62-02f44bbbd29e.jpg") no-repeat center center fixed;background-size:cover;color:#222;}
  header{background:rgba(0,0,0,0.6);color:white;padding:20px;text-align:center;font-size:24px;font-weight:bold;}
  nav{background:rgba(0,0,0,0.7);padding:15px;text-align:center;}
  nav a{margin:0 10px;text-decoration:none;color:#f4f4f4;font-size:16px;font-weight:bold;padding:5px 10px;border-radius:6px;transition:0.3s;}
  nav a:hover{background:#3498db;box-shadow:0 4px 10px rgba(0,0,0,0.4);}
  nav a.active{background:#00c6ff;color:#111;box-shadow:0 4px 12px rgba(0,0,0,0.5);}
  main{flex:1;display:flex;justify-content:center;padding:40px 20px;}
  .container{background:rgba(255,255,255,0.85);backdrop-filter:blur(12px);padding:30px;border-radius:12px;width:800px;max-width:95%;box-shadow:0 8px 20px rgba(0,0,0,0.4);}
  h2{text-align:center;margin-bottom:20px;font-size:26px;color:#222;}
  table{width:100%;border-collapse:collapse;}
  th,td{padding:12px;text-align:left;}
  th{background-color:#2980b9;color:white;}
  tr{background:rgba(255,255,255,0.8);margin-bottom:8px;display:table-row;}
  tr:hover{background:rgba(255,255,255,1);transform:translateX(5px);transition:0.3s;}
  .fine{color:red;font-weight:bold;}
  .no-fine{color:green;font-weight:bold;}
  footer{background:rgba(0,0,0,0.7);color:white;text-align:center;padding:15px;font-size:14px;}
</style>
</head>
<body>
<header>ðŸ“š Library Management System</header>

<nav>
  <a href="index.html">Dashboard</a>
  <a href="add-book.html">Add Book</a>
  <a href="add-member.html">Add Member</a>
  <a href="view-books.html" class="active">View Books</a>
  <a href="view-members.html">View Members</a>
  <a href="member-dashboard.html">Member Dashboard</a> <!-- Added link -->
</nav>
<main>
  <div class="container">
    <h2>My Borrowed Books</h2>
    <table>
      <thead>
        <tr>
          <th>Member Name</th>
          <th>Book Title</th>
          <th>Borrowed Date</th>
          <th>Due Date</th>
          <th>Fine</th>
        </tr>
      </thead>
      <tbody id="borrowedTableBody"></tbody>
    </table>
  </div>
</main>

<footer>&copy; 2025 Library Management System | All Rights Reserved</footer>

<script>
  const borrowedTableBody = document.getElementById('borrowedTableBody');

  // Sample borrowed books - fetch from localStorage if available
  let borrowedBooks = JSON.parse(localStorage.getItem('borrowedBooks')) || [
    {member:"John Doe", title:"The Great Gatsby", borrowed:"2025-09-25", due:"2025-10-05"},
    {member:"Jane Smith", title:"1984", borrowed:"2025-09-20", due:"2025-09-30"}
  ];

  function calculateFine(dueDateStr){
    const today = new Date();
    const dueDate = new Date(dueDateStr);
    const diffDays = Math.floor((today - dueDate)/(1000*60*60*24));
    return diffDays>0 ? diffDays*5 : 0; // Rs.5/day fine
  }

  borrowedTableBody.innerHTML = '';
  borrowedBooks.forEach(book=>{
    const fine = calculateFine(book.due);
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${book.member}</td>
      <td>${book.title}</td>
      <td>${book.borrowed}</td>
      <td>${book.due}</td>
      <td class="${fine>0?'fine':'no-fine'}">${fine>0?'â‚¹'+fine:'No Fine'}</td>
    `;
    borrowedTableBody.appendChild(tr);
  });
</script>
</body>
</html>
